_format_version: "3.0"

services:
  - name: auth-service
    url: http://host.docker.internal:8080
    routes:
      - name: auth-route
        paths:
          - /auth
        strip_path: false

plugins:
  - name: rate-limiting
    service: auth-service
    config:
      minute: 5
      hour: 1000
      policy: local

  - name: cors
    config:
      origins: ["*"]
      methods: ["GET", "POST", "PUT", "DELETE", "OPTIONS"]
      headers: ["Accept", "Accept-Version", "Content-Length", "Content-Type", "Date", "Authorization"]
      credentials: true
      max_age: 3600